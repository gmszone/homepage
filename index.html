
<!doctype html>
<html lang="en" ng-app="blogposts">
<head>
  <meta charset="utf-8">
  <title>Phodal's New Homepage</title>
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.4.2/pure-min.css">
  <link rel="stylesheet" href="css/blog.css">
  <script src="js/angular.min.js"></script>
  <script>
 var blogposts = angular.module('blogposts', ['ngRoute']);
  


  blogposts.config(function($routeProvider, $locationProvider) {
    $routeProvider
    .when('/', {
      templateUrl: 'blogslist.html',
      controller: 'postlistCtrl'
    }).
    when('/blog/:id', {
      templateUrl: 'blogsdetails.html',
      controller: 'blogController'
    });
   });
  
  blogposts.controller('postlistCtrl', function($scope, $http, $sce, $route, $routeParams) {
      $http.get('http://api.phodal.net/blog/page/1').success(function(data) {
          $scope.posts = data;
      });
      // $scope.randomcolors = function() {
      //   return ["post-category-design","post-category-pure","post-category-yui","post-category-js"][Math.round(Math.random() * 3)];
      // };
  });
  blogposts.controller('blogController', function($scope, $http, $sce, $routeParams) {
      $scope.name = "blogController";
      $scope.params = $routeParams;
      $http.get('http://api.phodal.net/blog/'+$routeParams.id).success(function(data) {
          $scope.post1 = data;
          $scope.deliberatelyTrustDangerousSnippet = function() {
            return $sce.trustAsHtml(data.content);
          };
      });
  });

  </script>
</head>
<body>
  <div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-med-1-4">
        <div class="header">
            <hgroup>
                <h1 class="brand-title">Phodal Huang</h1>
                <h2 class="brand-tagline">Simple & Stupid</h2>
            </hgroup>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/">Home</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>
    <div ng-view></div>
</div>
</body>
</html>
